<template>
    <template if:true={hasWorkItem}>
        <div class="slds-theme_shade   slds-p-around_small">
            
            <div class="slds-grid slds-grid_align-center">
                <div class="slds-text-align_center slds-m-bottom_small">
                    <p class="slds-text-body_regular">
                        Action required
                    </p>
                    <p class="slds-text-body_small slds-text-color_weak">
                        Please choose to approve or reject this request.
                    </p>
                </div>
            </div>
            
            <div class="slds-grid slds-grid_align-center">             

                <lightning-button
                    label="Approve"
                    variant="brand"
                    class="slds-m-right_small"
                    onclick={openApproveModal}>
                </lightning-button>

                <lightning-button
                    label="Reject"
                    variant="destructive"
                    onclick={openRejectModal}>
                </lightning-button>

            </div>
        </div>

    </template>
    <template if:false={hasWorkItem}> 
        <div class="slds-grid slds-grid_align-center slds-theme_shade slds-m-around_medium slds-text-color_weak">
                No pending approval requests available.
        </div>
    </template>

    <template if:true={isModalOpen}>
        <section role="dialog" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">

                <header class="slds-modal__header slds-grid slds-grid_align-spread slds-grid_vertical-align-center">

                    <button
                        class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close"
                        onclick={closeModal}>
                        <lightning-icon
                            icon-name="utility:close"
                            alternative-text="Close"
                            size="small">
                        </lightning-icon>
                    </button>

                    <h2 class="slds-text-heading_medium">{modalTitle}</h2>

                </header>


                <div class="slds-modal__content slds-p-around_medium">
                    <lightning-flow
                        flow-api-name="HandleApprovalScreen"
                        flow-input-variables={flowInputVariables}
                        onstatuschange={handleFlowStatus}>
                    </lightning-flow>
                </div>

            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>
